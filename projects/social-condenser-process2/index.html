<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Brock Wilson Hetherington</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../styles.css" />
  <link rel="stylesheet" href="../../styles/header.css" />
  <script src="https://unpkg.com/@phosphor-icons/web"></script>

  <style>
    @font-face {
      font-family: 'Helvetica Neue Thin';
      src: url('https://fonts.cdnfonts.com/s/14479/HelveticaNeue-Thin.woff') format('woff');
    }

    body {
      margin: 0;
      font-family: 'Helvetica Neue Thin', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      color: #92969a;
      background-color: #ffffff;
      text-transform: uppercase;
    }

    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 60px 20px;
    }

    .content-block {
      max-width: 900px;
      width: 100%;
      margin-bottom: 60px;
      text-align: justify;
    }

    .content-block img {
      width: 100%;
      height: auto;
      display: block;
      margin-top: 20px;
    }

    h1, h2 {
      font-weight: normal;
      color: #92969a;
    }

    .scroll-gallery {
      overflow-x: auto;
      white-space: nowrap;
      padding-bottom: 20px;
      margin-bottom: 60px;
      -webkit-overflow-scrolling: touch;
    }

    .scroll-gallery img {
      height: 500px;
      margin-right: 20px;
      display: inline-block;
      vertical-align: middle;
      border-radius: 4px;
      object-fit: cover;
    }

    .slider-container {
      position: relative;
      max-width: 900px;
      margin: 60px auto;
      overflow: hidden;
    }

    .slider {
      display: flex;
      width: 100%;
      transition: transform 1s ease;
    }

    .slider img {
      width: 100%;
      flex: 0 0 100%;
      max-height: 80vh;
      object-fit: contain;
      display: block;
    }

    .slider img {
      max-height: 80vh;
    }

    .slider-btn {
      background: none;
      border: none;
      opacity: 0;
      pointer-events: none;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      z-index: 10;
      padding: 0;
      transition: opacity 0.3s ease;
    }

    .slider-container:hover .slider-btn {
      opacity: 1;
      pointer-events: auto;
    }

    .slider-btn.prev {
      left: 20px;
    }

    .slider-btn.next {
      right: 20px;
    }

    .slider-btn i {
      font-size: 2.5rem;
      color: #92969a;
      transition: color 0.2s ease;
    }

    .slider-btn:hover i {
      color: #428f70;
    }

    /* -------------------- HEADER/STYLES -------------------- */

    .project-header {
      position: relative;
      padding: 40px 20px 0 20px;
      margin-bottom: 0;
      /* remove centering */
    }

    /* Move the site title to the top-left */
    .play-title {
      position: absolute;
      top: 40px;
      left: 20px;
      margin: 0;
      font-size: 1rem;
      color: #92969a;
      cursor: pointer;
    }
    .play-title:hover {
      color: #428f70;
    }

    /* Only the right-hand toggle remains */
    .header-right {
      position: absolute;
      top: 40px;
      right: 20px;
      color: #92969a;
      font-size: 0.9rem;
      text-transform: uppercase;
      cursor: pointer;
    }
    .header-right:hover {
      color: #428f70;
    }

    /* Container for sub-header + paragraph + info */
    #project-details-container {
      position: absolute;
      top: 80px;
      right: 20px;
      max-width: 400px;
      text-transform: none;
      display: none;
      background: none;
      padding: 0;
      box-shadow: none;
      border: none;
    }
    #project-details-container.show {
      display: block;
    }

    /* Sub-header right-justified */
    h2.sub-header {
      margin: 0 0 0.5rem 0;
      font-size: 0.9rem;
      color: #92969a;
      text-align: right; /* right-justify */
      cursor: pointer;
    }
    h2.sub-header:hover {
      color: #428f70;
    }

    /* Paragraph shown only when sub-header clicked */
    #sub-details {
      display: none;
    }
    #sub-details.show {
      display: block;
    }

    .desc {
      color: #92969a;
      font-size: 0.85rem;
      line-height: 1.6;
      text-align: justify;
      margin-bottom: 1rem;
    }

    /* Project info always visible once container is open */
    .info {
      text-align: right;
      color: #92969a;
      font-size: 0.85rem;
      line-height: 1.6;
    }

    main {
      padding-top: 0;
    }

    .project-layout {
      display: flex;
      gap: 40px;
      max-width: 1200px;
      margin: 0 auto;
      align-items: flex-start;
      padding: 60px 20px;
      flex-wrap: wrap;
    }

    .slider-container {
      flex: 1;
      min-width: 0;
    }

    .slider-wrapper {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      position: relative;
      display: flex;
      justify-content: center;
    }

    #imageModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: white;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      cursor: zoom-out;
    }

    #imageModal.show {
      display: flex;
    }

    #modalImg {
      max-width: 90%;
      max-height: 90%;
    }

    .slider img {
      image-rendering: auto;
      transform: translateZ(0);
    }

    #project-details-container a {
    color: #428f70;      /* green text */
    text-decoration: none;
    }

  </style>
</head>
<body>
  <header class="project-header">
    <!-- Left-aligned site title -->
    <h1 class="play-title" onclick="location.href='../../index.html'">BROCK WILSON HETHERINGTON</h1>

    <!-- Right-hand toggle remains -->
    <div class="header-right" onclick="toggleContainer()">DETAILS</div>

    <div id="project-details-container">
      <!-- Sub-header (right-justified) -->
      <h2 id="sub-header" class="sub-header" onclick="toggleSubDetails()">
        'WATERLOO SOCIAL CONDENSER' MECHANICAL VENTILATION
      </h2>

      <!-- Paragraph toggled by sub-header -->
      <div id="sub-details">
        <div class="desc">
          <p>
            After landing on a direction for our <a href="../social-condenser/index.html">proposal,</a> we were each tasked with working out a specific building system
            for our site. In choosing mechanical ventilation, I had to make sure each building class and program within it
            had suitable fresh air and exhaust systems. I found this portion of the assignment to be very enjoyable, as it
            allowed me to explore a more technical and prescribed side of architecture that I had not previously been
            exposed to.
            <br><br>
            These images show the process in working out the requirements for each building, the different systems I
            explored, and a sectional axonometric of the makerspace (south building). In this building, a 4829 L/s VAV
            system runs separate from the rest of the building’s 3490 L/s CAV system to accommodate for truck access &
            exhaust.
          </p>
        </div>
      </div>

      <!-- Project information (remains visible whenever container is open) -->
      <div class="info">
        <p>
          <strong>Location:</strong> Waterloo, NSW – Gadigal Country<br>
          <strong>Year:</strong> 2024<br>
          <strong>Tutor, Coordinator:</strong> John Cabello, Michael Ford<br>
          <strong>Institution, Studio:</strong> University of Technology, Sydney, Studio 6<br>
          <strong>Result:</strong> High Distinction, ‘Capstone Prize Commendation’<br>
          <strong>Group Members:</strong> Samuel Lloyd, Zack Heffernan
        </p>
      </div>
    </div>
  </header>

  <main>
    <div class="slider-container">
      <div class="slider-wrapper" id="sliderWrapper">
        <div class="slider" id="slider">
          <img src="sectional_axo.webp" alt="South Building Services" />
          <img src="mechanical_systems.webp" alt="Mechanical Systems" />
          <img src="sam_mechanical.webp" alt="North Building Services" />
          <img src="zack_mechanical.webp" alt="West Building Services" />
          <img src="brock_mechanical.webp" alt="South Building Services" />
          <img src="anatomical_model.webp" alt="South Building Services" />
        </div>
        <button class="slider-btn prev" onclick="moveSlide(-1)">
          <i class="ph ph-arrow-left"></i>
        </button>
        <button class="slider-btn next" onclick="moveSlide(1)">
          <i class="ph ph-arrow-right"></i>
        </button>
      </div>
    </div>
  </main>

  <div id="imageModal">
    <img id="modalImg" style="max-width:90%; max-height:90%;" />
  </div>

  <script>
    const slider = document.getElementById('slider');
    const slides = Array.from(slider.children);
    const totalSlides = slides.length;
    let currentSlide = 1;

    // Clone first & last slides for looping
    const firstClone = slides[0].cloneNode(true);
    const lastClone = slides[totalSlides - 1].cloneNode(true);
    slider.appendChild(firstClone);
    slider.insertBefore(lastClone, slides[0]);

    // Set width & initial position
    const allSlides = slider.querySelectorAll('img');
    slider.style.width = `${allSlides.length * 100}%`;
    slider.style.transform = `translateX(-${100 * currentSlide}%)`;

    function moveSlide(direction) {
      if (slider.isTransitioning) return;
      slider.isTransitioning = true;

      slider.style.transition = 'transform 1s ease-in-out';
      currentSlide += direction;
      slider.style.transform = `translateX(-${100 * currentSlide}%)`;

      slider.addEventListener('transitionend', function handler() {
        slider.removeEventListener('transitionend', handler);

        if (currentSlide === 0) {
          slider.style.transition = 'none';
          currentSlide = totalSlides;
          slider.style.transform = `translateX(-${100 * currentSlide}%)`;
          void slider.offsetWidth;
          slider.style.transition = 'transform 1s ease-in-out';
        }

        if (currentSlide === totalSlides + 1) {
          slider.style.transition = 'none';
          currentSlide = 1;
          slider.style.transform = `translateX(-${100 * currentSlide}%)`;
          void slider.offsetWidth;
          slider.style.transition = 'transform 1s ease-in-out';
        }

        slider.isTransitioning = false;
      });
    }

    function toggleContainer() {
      const container = document.getElementById('project-details-container');
      container.classList.toggle('show');
      if (!container.classList.contains('show')) {
        document.getElementById('sub-details').classList.remove('show');
      }
    }

    function toggleSubDetails() {
      const sub = document.getElementById('sub-details');
      sub.classList.toggle('show');
    }
  </script>
</body>
</html>
